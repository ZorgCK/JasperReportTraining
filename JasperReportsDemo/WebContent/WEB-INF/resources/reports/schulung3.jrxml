<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="schulung2" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.9487171000000014"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="245"/>
	<style name="table">
		<box leftPadding="5" rightPadding="5">
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box leftPadding="5" rightPadding="5">
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box leftPadding="5" rightPadding="5">
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF" markup="styled" pattern="">
		<box leftPadding="5" rightPadding="5">
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 4">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 4_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 4_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 4_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 5">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 5_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 5_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 5_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<parameter name="Niederlassung" class="java.lang.String"/>
	<parameter name="Abteilung" class="java.lang.String"/>
	<parameter name="Ersteller" class="java.lang.String"/>
	<field name="Modelle_Modell" class="java.lang.String"/>
	<field name="Hersteller_Marke" class="java.lang.String"/>
	<field name="Preis" class="java.lang.Double"/>
	<field name="Kilometerstand" class="java.lang.Double"/>
	<field name="Erstzulassung" class="java.util.Date"/>
	<field name="Leistung" class="java.lang.Double"/>
	<variable name="GesKilo" class="java.lang.Double" resetType="Group" resetGroup="Hersteller" calculation="Sum">
		<variableExpression><![CDATA[$F{Kilometerstand}]]></variableExpression>
	</variable>
	<variable name="DurchLeistung" class="java.lang.Double" resetType="Group" resetGroup="Hersteller" calculation="Average">
		<variableExpression><![CDATA[$F{Leistung}]]></variableExpression>
	</variable>
	<variable name="DurchKilometer" class="java.lang.Double" resetType="Group" resetGroup="Hersteller" calculation="Average">
		<variableExpression><![CDATA[$F{Kilometerstand}]]></variableExpression>
	</variable>
	<variable name="Gesamt" class="java.lang.Double" resetType="Group" resetGroup="Hersteller" calculation="Sum">
		<variableExpression><![CDATA[$F{Preis}]]></variableExpression>
	</variable>
	<variable name="fahrzeuganz" class="java.lang.Double" resetType="Group" resetGroup="Hersteller" calculation="Count">
		<variableExpression><![CDATA[$F{Preis}]]></variableExpression>
	</variable>
	<variable name="durchpreis" class="java.lang.Double" resetType="Group" resetGroup="Hersteller">
		<variableExpression><![CDATA[$V{Gesamt}/$V{fahrzeuganz}]]></variableExpression>
	</variable>
	<variable name="GesamtAnzFahrzeuge" class="java.lang.Double" calculation="Count">
		<variableExpression><![CDATA[$F{Preis}]]></variableExpression>
	</variable>
	<variable name="AktDatum" class="java.util.Date">
		<variableExpression><![CDATA[new java.util.Date()]]></variableExpression>
	</variable>
	<variable name="AlterMonate" class="java.math.BigDecimal">
		<variableExpression><![CDATA[($V{AktDatum}.getMonth() - $F{Erstzulassung}.getMonth() + ($V{AktDatum}.getYear() - $F{Erstzulassung}.getYear()) * 12) / 12]]></variableExpression>
	</variable>
	<variable name="durchalter" class="java.math.BigDecimal" resetType="Group" resetGroup="Hersteller" calculation="Average">
		<variableExpression><![CDATA[$V{AlterMonate}]]></variableExpression>
	</variable>
	<group name="Hersteller" isStartNewPage="true" isReprintHeaderOnEachPage="true" minHeightToStartNewPage="300">
		<groupExpression><![CDATA[$F{Hersteller_Marke}]]></groupExpression>
		<groupHeader>
			<band height="54">
				<staticText>
					<reportElement style="table_TD" x="4" y="0" width="66" height="20"/>
					<textElement verticalAlignment="Middle">
						<font size="12" isUnderline="true"/>
					</textElement>
					<text><![CDATA[Hersteller:]]></text>
				</staticText>
				<staticText>
					<reportElement style="table_TD" x="170" y="0" width="102" height="20"/>
					<textElement verticalAlignment="Middle">
						<font size="12" isUnderline="true"/>
					</textElement>
					<text><![CDATA[Anzahl Fahrzeuge:]]></text>
				</staticText>
				<textField>
					<reportElement style="table_CH" x="70" y="0" width="100" height="20"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{Hersteller_Marke}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement style="table_TH" x="4" y="34" width="100" height="20"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Modell]]></text>
				</staticText>
				<staticText>
					<reportElement style="table_TH" x="104" y="34" width="107" height="20"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Erstzulassung]]></text>
				</staticText>
				<staticText>
					<reportElement style="table_TH" x="288" y="34" width="68" height="20"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[km-Stand]]></text>
				</staticText>
				<staticText>
					<reportElement style="table_TH" x="356" y="34" width="77" height="20"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Leistung]]></text>
				</staticText>
				<staticText>
					<reportElement style="table_TH" x="433" y="34" width="76" height="20"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Preis]]></text>
				</staticText>
				<staticText>
					<reportElement style="table_TH" x="211" y="34" width="77" height="20"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Alter]]></text>
				</staticText>
				<textField evaluationTime="Auto" pattern="### Stück">
					<reportElement style="table_CH" x="272" y="0" width="77" height="20"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression class="java.lang.Double"><![CDATA[$V{fahrzeuganz}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="171">
				<staticText>
					<reportElement style="table_TD" x="356" y="0" width="77" height="20"/>
					<textElement/>
					<text><![CDATA[]]></text>
				</staticText>
				<staticText>
					<reportElement style="table_TD" x="433" y="0" width="76" height="20"/>
					<textElement/>
					<text><![CDATA[]]></text>
				</staticText>
				<staticText>
					<reportElement style="table_TD" x="433" y="20" width="76" height="20"/>
					<textElement/>
					<text><![CDATA[]]></text>
				</staticText>
				<textField pattern="#,##0.00">
					<reportElement style="table_CH" x="288" y="0" width="68" height="20"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font isStrikeThrough="false"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{GesKilo}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement style="table_TD" x="433" y="40" width="76" height="20"/>
					<textElement/>
					<text><![CDATA[]]></text>
				</staticText>
				<staticText>
					<reportElement style="table_TD" x="356" y="20" width="77" height="20"/>
					<textElement/>
					<text><![CDATA[]]></text>
				</staticText>
				<textField pattern="#,##0.00">
					<reportElement style="table_CH" x="356" y="40" width="77" height="20"/>
					<textElement textAlignment="Right" verticalAlignment="Middle"/>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{DurchLeistung}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="188" y="0" width="100" height="20"/>
					<box topPadding="4"/>
					<textElement verticalAlignment="Middle"/>
					<text><![CDATA[Gesamt Kilometer]]></text>
				</staticText>
				<staticText>
					<reportElement x="188" y="20" width="100" height="20"/>
					<box topPadding="4"/>
					<textElement verticalAlignment="Middle"/>
					<text><![CDATA[Durchschnitts Kilometer]]></text>
				</staticText>
				<textField pattern="#,##0.00">
					<reportElement style="table_CH" x="288" y="20" width="68" height="20"/>
					<textElement textAlignment="Right" verticalAlignment="Middle"/>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{DurchKilometer}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="249" y="40" width="107" height="20"/>
					<box topPadding="4"/>
					<textElement verticalAlignment="Middle"/>
					<text><![CDATA[Durchschnitts Leistung]]></text>
				</staticText>
				<staticText>
					<reportElement x="335" y="60" width="98" height="20"/>
					<box topPadding="4"/>
					<textElement verticalAlignment="Middle"/>
					<text><![CDATA[Durchschnitts Preis]]></text>
				</staticText>
				<staticText>
					<reportElement x="335" y="80" width="98" height="20"/>
					<box topPadding="4"/>
					<textElement verticalAlignment="Middle"/>
					<text><![CDATA[Gesamt Wert]]></text>
				</staticText>
				<textField pattern="#,##0.00">
					<reportElement style="table_CH" x="433" y="80" width="76" height="20"/>
					<textElement textAlignment="Right" verticalAlignment="Middle"/>
					<textFieldExpression class="java.lang.Double"><![CDATA[$V{Gesamt}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00">
					<reportElement style="table_CH" x="433" y="60" width="76" height="20"/>
					<textElement textAlignment="Right" verticalAlignment="Middle"/>
					<textFieldExpression class="java.lang.Double"><![CDATA[$V{durchpreis}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement style="table_TD" x="4" y="60" width="138" height="20"/>
					<textElement verticalAlignment="Middle">
						<font isUnderline="false"/>
					</textElement>
					<text><![CDATA[Gesamtanzahl Fahrzeuge:]]></text>
				</staticText>
				<textField pattern="#,##0.00 Jahre">
					<reportElement style="table_CH" x="156" y="80" width="76" height="20"/>
					<textElement/>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{durchalter}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement style="table_TD" x="4" y="80" width="138" height="20"/>
					<textElement verticalAlignment="Middle">
						<font isUnderline="false"/>
					</textElement>
					<text><![CDATA[Durchschnittsalter Fahrzeuge]]></text>
				</staticText>
				<textField>
					<reportElement style="table_CH" x="156" y="60" width="76" height="20"/>
					<textElement/>
					<textFieldExpression class="java.lang.Double"><![CDATA[$V{fahrzeuganz}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<title>
		<band height="70" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="286" height="44"/>
				<textElement>
					<font fontName="Arial" size="26"/>
				</textElement>
				<text><![CDATA[Übung 3 Berechnungen]]></text>
			</staticText>
			<textField>
				<reportElement x="455" y="0" width="100" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{Niederlassung}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="455" y="20" width="100" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{Abteilung}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="455" y="40" width="100" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{Ersteller}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="355" y="0" width="100" height="20">
					<printWhenExpression><![CDATA[$P{Niederlassung} != ""]]></printWhenExpression>
				</reportElement>
				<textElement/>
				<text><![CDATA[Niederlassung:]]></text>
			</staticText>
			<staticText>
				<reportElement x="355" y="20" width="100" height="20">
					<printWhenExpression><![CDATA[$P{Abteilung} != ""]]></printWhenExpression>
				</reportElement>
				<textElement/>
				<text><![CDATA[Abteilung:]]></text>
			</staticText>
			<staticText>
				<reportElement x="355" y="40" width="100" height="20">
					<printWhenExpression><![CDATA[$P{Ersteller} != ""]]></printWhenExpression>
				</reportElement>
				<textElement/>
				<text><![CDATA[Ersteller:]]></text>
			</staticText>
		</band>
	</title>
	<pageHeader>
		<band height="39" splitType="Stretch">
			<elementGroup/>
			<staticText>
				<reportElement x="139" y="0" width="287" height="20"/>
				<textElement verticalAlignment="Middle">
					<font size="13" isUnderline="true"/>
				</textElement>
				<text><![CDATA[Preise, Mengen und Durchschnittsberechnungen]]></text>
			</staticText>
		</band>
	</pageHeader>
	<detail>
		<band height="20">
			<textField>
				<reportElement style="table_TD" x="4" y="0" width="100" height="20"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{Modelle_Modell}]]></textFieldExpression>
			</textField>
			<textField pattern="dd-MMM-yyyy" isBlankWhenNull="true">
				<reportElement style="table_TD" x="104" y="0" width="107" height="20" isPrintWhenDetailOverflows="true"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{Erstzulassung}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement style="table_TD" x="288" y="0" width="68" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression class="java.lang.Double"><![CDATA[$F{Kilometerstand}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0">
				<reportElement style="table_TD" x="356" y="0" width="77" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{Leistung}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00 €">
				<reportElement style="table_TD" x="433" y="0" width="76" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression class="java.lang.Double"><![CDATA[$F{Preis}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.0 Jahre" isBlankWhenNull="false">
				<reportElement style="table_TD" x="211" y="0" width="77" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{AlterMonate}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="21">
			<textField>
				<reportElement x="281" y="1" width="100" height="20"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="254" y="0" width="27" height="20"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[Seite:]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="4" y="0" width="86" height="20"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression class="java.util.Date"><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="57">
			<textField pattern="#,## Jahre">
				<reportElement style="table_CH" x="188" y="36" width="76" height="20"/>
				<textElement/>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{durchalter}]]></textFieldExpression>
			</textField>
			<textField pattern="### Stück">
				<reportElement style="table_CH" x="188" y="16" width="76" height="20"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression class="java.lang.Double"><![CDATA[$V{GesamtAnzFahrzeuge}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="table_TD" x="36" y="36" width="138" height="20"/>
				<textElement verticalAlignment="Middle">
					<font isUnderline="false"/>
				</textElement>
				<text><![CDATA[Durchschnittsalter Fahrzeuge]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="36" y="16" width="138" height="20"/>
				<textElement verticalAlignment="Middle">
					<font isUnderline="false"/>
				</textElement>
				<text><![CDATA[Gesamtanzahl Fahrzeuge:]]></text>
			</staticText>
		</band>
	</summary>
</jasperReport>
